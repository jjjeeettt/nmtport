{% extends "base.html" %}
{% block main %}
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<div id="app">
    <div @click="get_data"> {{' {{ counter }} '}} </div>
    <ul class='bg-success'>
        <li v-for="el in all_data">{{ ' {{ el }}' }}</li>
    </ul>
</div>


<script>
var app = new Vue({
  el: '#app',
  data: {
    counter: 1,
    all_data: [],
  },
    methods: {
        hight() {
        this.counter++;
        console.log(this.status);
        },
        get_data() {
            axios.get('http://127.0.0.1:5000/api/v1.0/all_last_data').then((response) => {
            console.log(response.data);
            this.all_data=response.data;
            });
        }
    },
mounted: function () {
        this.$nextTick(function () {
            window.setInterval(() => {
                this.get_data();
            },10000);
        })
    }


})

</script>

<!-- message: 'Привет, Vue!' + new Date().toLocaleString() -->

{% endblock %}
